<!DOCTYPE html>
<HTML>
  <HEAD>
    <link rel="stylesheet" href="./front.css">
  </HEAD>
  <BODY class = "body">
    <div class="marquee">
      <div class="marquee__item">
         I am so scared about the future! This fucking sucks! Predict my future so I can delegate the responsibility to you...
      </div>
    </div>
    <div class="content-overlay">

      <h2 id="path-title">Path: None Selected</h2>
      <div class="toggle-container">
      </div>
      <div class="toggle-container">
        <label class="switch">
          <input type="checkbox" class="route-toggle" data-value="1">
          <span class="slider"></span> Will the status quo be maintained?
        </label>
        <label class="switch">
          <input type="checkbox" class="route-toggle" data-value="2">
          <span class="slider"></span> Will my blueberries survive to spring?
        </label>
        <label class="switch">
          <input type="checkbox" class="route-toggle" data-value="4">
          <span class="slider"></span> Will I actualize?
        </label>
        <label class="switch">
          <input type="checkbox" class="route-toggle" data-value="8">
          <span class="slider"></span> Will I remain true to myself?
        </label>
      </div>
      <button type="button" id="redirect-btn">Face your choices</button>
    </div>


    <script>
      const redirectBtn = document.getElementById('redirect-btn');
      const pathTitle = document.getElementById('path-title');
      const toggles = document.querySelectorAll('.route-toggle');
    
      const pathData = {
        0:  { name: "Least Resistance", url: "./outcomes/0.html" },
        1:  { name: "Blind Consumer", url: "./outcomes/1.html" },
        2:  { name: "Evil Gardener", url: "./outcomes/2.html" },
        3:  { name: "Bleeding Heart", url: "./outcomes/3.html" },
        4:  { name: "Ascetic Isolationist", url: "./outcomes/4.html" },
        5:  { name: "American Psycho", url: "./outcomes/5.html" },
        6:  { name: "Libertine Whore", url: "./outcomes/6.html" },
        7:  { name: "Closeted Mom", url: "./outcomes/7.html" },
        8:  { name: "Cynical Aesthete", url: "./outcomes/8.html" },
        9:  { name: "Interventionist Bystander", url: "./outcomes/9.html" },
        10:  { name: "People Pleaser", url: "./outcomes/10.html" },
        11:  { name: "Chief Engineer", url: "./outcomes/11.html" },
        12:  { name: "Spiritual Masochist", url: "./outcomes/12.html" },
        13:  { name: "Commodore Anarchist", url: "./outcomes/13.html" },
        14:  { name: "Free Spirit", url: "./outcomes/14.html" },
        15: { name: "Full Send Evil", url: "./outcomes/15.html" }
      };
    
      function getCombinationSum() {
        let sum = 0;
        toggles.forEach(toggle => {
          if (toggle.checked) {
            sum += parseInt(toggle.getAttribute('data-value'));
          }
        });
        return sum;
      }
    
      // Update the UI in real-time
      function updateUI() {
        const currentSum = getCombinationSum();
        const data = pathData[currentSum];
        
        // Update Text
        pathTitle.innerText = "Path: " + (data ? data.name : "Combination " + currentSum);
        
        // Optional: Visual feedback if all selected
        if (currentSum === 15) {
          pathTitle.style.color = "#ff4757";
          pathTitle.style.textShadow = "0 0 10px rgba(255, 71, 87, 0.8)";
        } else {
          pathTitle.style.color = "white";
          pathTitle.style.textShadow = "none";
        }
      }
    
      // Handle the Redirect
      redirectBtn.addEventListener('click', () => {
        const currentSum = getCombinationSum();
        const data = pathData[currentSum];
        
        const destination = data ? data.url : "./outcomes/0.html";
        window.location.href = destination;
      });
    
      // Listen for toggle changes
      toggles.forEach(toggle => {
        toggle.addEventListener('change', updateUI);
      });
    </script>
  </BODY>
</HTML>
